---
import BaseHead from "../components/BaseHead.astro";
import Footer from "../components/Footer.astro";
import { SITE_TITLE, SITE_DESCRIPTION, skills, projects } from "../consts";
import { Icon } from "astro-icon/components";
import FloatingHead from "../components/FloatingHead.tsx";
import InteractionWrapper from "../components/InteractionWrapper.tsx";
import Card from "../components/Card.astro";
import ProjectCard from "../components/ProjectCard.astro";

// get years from may 2018 to now (rounded up)
const yearsOfExperience = Math.ceil(
  (new Date().getTime() - new Date(2018, 4, 1).getTime()) / 1000 / 60 / 60 / 24 / 365
);
---

<!doctype html>
<html lang="en">
  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
  </head>
  <body>
    <!--  <Header title={SITE_TITLE} /> -->

    <div class="page-container">
      <aside class="head-container">
        <FloatingHead text={""} client:load />
      </aside>

      <main>
        <section class="min-h-screen flex flex-col justify-center">
          <InteractionWrapper client:load text="To sam ja">
            <h1 class="font-bold">{SITE_TITLE}</h1>
          </InteractionWrapper>
          <p class="text-2xl">
            {SITE_DESCRIPTION}
          </p>

          <ul class="flex flex-wrap gap-4">
            <li>
              <InteractionWrapper client:load text="Javi se slobodno">
                <a
                  class="button"
                  href="https://www.linkedin.com/in/nikola-mili%C4%87-9736a6167/"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <Icon name="linkedin" class="w-6 h-6" />
                  LinkedIn
                </a>
              </InteractionWrapper>
            </li>
            <li>
              <InteractionWrapper
                client:load
                text="Pogledaj slobodno ali jedino pametno što ima je ovaj projekt"
              >
                <a
                  class="button"
                  href="https://github.com/nmilic96"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <Icon name="github" class="w-6 h-6" />
                  GitHub
                </a>
              </InteractionWrapper>
            </li>
          </ul>
        </section>

        <section>
          <h2 class="text-5xl mb-10 font-semibold">Skills</h2>

          <ul class="grid grid-cols-1 auto-rows-fr gap-3 md:grid-cols-2 lg:grid-cols-4">
						{skills.map(skill => (
							<li>
								<InteractionWrapper className="h-full w-full" client:load text={skill.description}>
									<Card icon={skill.icon} text={skill.name} />
								</InteractionWrapper>
							</li>
						))}
          </ul>

        </section>

        <section>
          <h2 class="text-5xl mb-10 font-semibold">Projekti</h2>
          <ul class="grid grid-cols-1 gap-12">
						{projects.map(project => (
							<li>
								<ProjectCard title={project.name} description={project.description} imagePath={project.image ? `/src/assets/images/${project.image}` : null} url={project.url} />
							</li>
							))	
						}
          </ul>
        </section>

        <section>
          <h2 class="text-5xl mb-10 font-semibold">Nešto više od meni</h2>
          <article>
            <p>
              Frontend developer s <strong class="text-accent">{yearsOfExperience}</strong> godina iskustva.
            </p>
          </article>
        </section>
      </main>
    </div>

    <Footer />
  </body>
</html>
